{
  "Cache": {
    "clock-cache-default": {
      "class": "ClockCache",
      "params": {
        "capacity": 0,
        "num_shard_bits": -1,
        "strict_capacity_limit": false,
        "metadata_charge_policy": "kFullChargeCacheMetadata"
      }
    },
    "lru-cache-default": {
      "class": "LRUCache",
      "params": {
        "capacity": 0,
        "num_shard_bits": -1,
        "strict_capacity_limit": false,
        "high_pri_pool_ratio": 0.5,
        "use_adaptive_mutex": false,
        "metadata_charge_policy": "kFullChargeCacheMetadata"
      }
    },
    "lru-cache-4G": {
      "class": "LRUCache",
      "params": {
        "capacity": "4G",
        "num_shard_bits": -1,
        "strict_capacity_limit": false,
        "high_pri_pool_ratio": 0.5,
        "use_adaptive_mutex": false,
        "metadata_charge_policy": "kFullChargeCacheMetadata"
      }
    }
  },
  "TableFactory": {
    "terark-default": {
      "class": "TerarkZipTable",
      "params": {
        "localTempDir": "/tmp",
        "indexType": "Mixed_XL_256_32_FL",
        "indexNestLevel": 3,
        "indexNestScale": 8,
        "indexTempLevel": 0,
        "indexCacheRatio": 0.0,
        "warmUpIndexOnOpen": false,
        "warmUpValueOnOpen": false,
        "disableCompressDict": true,
        "optimizeCpuL3Cache": true,
        "enableEntropyStore": false,
        "offsetArrayBlockUnits": 128,
        "sampleRatio": 0.02,
        "checksumLevel": 0,
        "entropyAlgo": "kNoEntropy",
        "debugLevel": 0,
        "softZipWorkingMemLimit": "16G",
        "hardZipWorkingMemLimit": "32G",
        "smallTaskMemory": "1G",
        "minDictZipValueSize": "30",
        "keyPrefixLen": 0,
        "minPreadLen": 64
      }
    },
    "block-based": {
      "class": "BlockBasedTable",
      "params": {
        "checksum": "kCRC32c",
        "block_size": "4K",
        "block_restart_interval": 16,
        "index_block_restart_interval": 1,
        "metadata_block_size": "4K",
        "enable_index_compression": true,
        "block_cache": "${lru-cache-default}",
        "block_cache_compressed": null,
        "persistent_cache": null,
        "filter_policy": null
      }
    },
    "dispatch" : {
      "class": "DispatherTable",
      "params": {
        "default": "terark-default",
        "level_writers": [
          "block-based",
          "block-based",
          "block-based",
          "terark-default",
          "terark-default",
          "terark-default",
          "terark-default"
        ]
      }
    }
  },
  "databases": {
    "db1": {
      "method": "DB::Open",
      "comment": "params's inner objects can be pushed out to outer object, as in db2",
      "params": {
        "options": {
          "create_if_missing": true,
          "max_background_compactions": 8,
          "max_subcompactions": 5,
          "inplace_update_support": false,
          "WAL_size_limit_MB": 0,
          "allow_mmap_reads": true,
          "max_write_buffer_number": 4,
          "target_file_size_base": "16M",
          "target_file_size_multiplier": 2,
          "table_factory": "dispatch"
        },
        "name": "db1"
      }
    },
    "db2": {
      "method": "DB::Open",
      "options": {
        "create_if_missing": true
      },
      "name": "db2"
    },
    "db_mcf": {
      "method": "DB::Open",
      "db_options": {
        "create_if_missing": true,
        "create_missing_column_families": true,
        "max_background_compactions": 8,
        "max_subcompactions": 5,
        "inplace_update_support": false,
        "WAL_size_limit_MB": 0,
        "allow_mmap_reads": true
      },
      "column_families": {
        "default": {
          "max_write_buffer_number": 4,
          "target_file_size_base": "16M",
          "target_file_size_multiplier": 2,
          "table_factory": "dispatch",
          "ttl": 0
        },
        "custom_cf" : {
          "max_write_buffer_number": 4,
          "target_file_size_base": "16M",
          "target_file_size_multiplier": 2,
          "table_factory": "dispatch",
          "ttl": 0
        }
      },
      "name": "db_mcf"
    }
  },
  "open": "db_mcf"
}
